


-- ******************* update 05/05/2016 13:33:18 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton;;



-- ******************* update 05/05/2016 14:19:59 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton;;



-- ******************* update 06/05/2016 09:22:07 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton;;



-- ******************* update 06/05/2016 10:40:36 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton;;



-- ******************* update 06/05/2016 10:42:04 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton;;



-- ******************* update 18/05/2016 17:51:59 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 18/05/2016 17:52:52 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 18/05/2016 17:54:11 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 18/05/2016 17:54:34 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 18/05/2016 17:55:19 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 19/05/2016 10:57:33 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 20/05/2016 11:52:16 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 20/05/2016 12:05:20 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 20/05/2016 12:08:07 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 20/05/2016 16:30:03 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 21/05/2016 08:48:53 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 24/05/2016 10:50:58 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 25/05/2016 08:44:50 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 25/05/2016 09:20:31 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 25/05/2016 09:24:59 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 25/05/2016 10:15:57 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 25/05/2016 10:32:20 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 25/05/2016 22:31:48 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 25/05/2016 22:45:34 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:08:28 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:09:11 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:13:39 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:25:31 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:26:07 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:28:28 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:29:20 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:29:58 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:48:06 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:48:37 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:49:32 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:50:31 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:51:17 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:51:31 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 15:52:28 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 16:01:43 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;



-- ******************* update 26/05/2016 16:09:46 ******************

			
				
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
						
		
			
			
			
		
			
			
						
			
			
			
			
			
			
						
						
						
						
									
		
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
		
			
			
			
			
			
			
			
		
			
			
			
			
						
		
			
				
			
			
			
			
			
			
		
			
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
						
			
						
									
						
		
			
			
			
			
			
						
			
			
			
			
			
			
			
		
			
			
			
			
			
						
			
						
			
			
		
			
			
			
			
						
			
			
			
			
			
			
			
						
						
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
						
			
						
			
						
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
		
			
			
			
			
			
			
									
			
												
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
						
			
		
			
			
			
			
			
			
			
			
						
			
			
			
			
		
			
			
			
			
			
			
		
			
		
			
		
			
		
			
			
			
			
			
			
			
			
			
			
				
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
						
			
			
			
			
			
			
							
			
			
			
			
					
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
						
		
			
			
			
			
			
			
		
			
			
			
									
			
			
			
			
			
					
			
			
			
			
			
			
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
						
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
						
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
			
			
			
		
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
						
		
			Отображает состояние ТС от трэкера
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
		
			Отображает состояние ТС от трэкера + информация по активной для ТС заявке
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
						
			
			
			
		
			
			
			
			
			
			
			
			
			
		
			
			
			
			
			
		
CREATE OR REPLACE VIEW doc_material_procurements_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_procurements_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_procurements_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_procurement'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_procurements_get_actions(IN in_doc_id int) OWNER TO beton24;;

CREATE OR REPLACE VIEW doc_material_inventories_register_list AS 

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name
;

ALTER VIEW doc_material_inventories_register_list OWNER TO beton24;


--doc actions

CREATE OR REPLACE FUNCTION doc_material_inventories_get_actions(IN in_doc_id int)
  RETURNS TABLE(reg_id text, reg_name text, deb boolean, dimensions text, attributes text, facts text) AS
$BODY$
BEGIN
RETURN QUERY

SELECT
	'material'::text AS reg_id,
	get_reg_types_descr('material'::reg_types)::text AS reg_name,
	ra_materials.deb,
	raw_materials. AS dimensions,
	'' AS attributes,
	
		COALESCE(ra_materials.quant,0)::text
	 AS facts
	FROM ra_materials	
	LEFT JOIN raw_materials ON raw_materials.id=ra_materials.material_id
	WHERE doc_type='material_inventory'::doc_types AND doc_id=in_doc_id	
;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE COST 100;
  
ALTER FUNCTION doc_material_inventories_get_actions(IN in_doc_id int) OWNER TO beton24;;
